# 工作负载示例

* 工作负载不存在随机性时，也就是说程序访问哪一页内存是完全随机的，不存在对于某些内存的访问需求很多（不常见）

各策略区别不大



* 8-2（常见）

LRU显然更好



* 循环访问（也很常见）

RAND（随机访问）更好

LRU在可接受范围内



# 选择了LRU，怎么实现它

* 为所有页记录历史，不管是硬件还是软件，都不可接受



近似LRU：

Corbato

硬件上给所有页分配一个使用位，每当一个页被写入或访问，其使用位设为1；每当操作系统要换出页时，对这个硬件进行循环访问，如果使用位为0，则换出对应的页，否则设使用位为1后，继续向下遍历使用位。

进一步，考虑脏页：

如果一个页从硬盘加载一个页进入内存，最后当这个页被换出时有两种情况：1.这个页没有修改，直接将其踢出内存即可（硬盘中有备份） 2.这个页修改了，还需将其保存回原来的位置，但是其代价很大

给我们的启示是，换出页时，尽量选择没有修改的页，这个选择可以和时钟算法结合，增加一个修改位，在换出页时尽量选择未修改的页，实在没有选择时才选择修改的页

