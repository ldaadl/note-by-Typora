## 1.一些关于Emacs文本编辑的概念

* 无模式编辑器：Emacs不同于Vim，它被称为无模式编辑器，这意味着我们可以直接向缓冲区中输入文本，要使用到一些功能时，使用快捷键或者函数完成即可（Vim中有输入模式和命令模式，一些功能要在命令模式下打开或关闭）。
* 插入点：在Emacs中，有一个重要的概念，被称为插入点，它表示字符的插入位置，这是缓冲区中的一个想象的位置，位于光标所在的字符和前一个字符之间。我们所输入的内容就插入在改位置，这个位置之后的文本就随着前面内容的插入而往后移。

## 2. 编辑模式

* Emacs被称为是无模式编辑模式，这是说它没有特殊的命令模式，可以在任何时候插入文本和完成命令，但是Emacs也有自己的编辑模式，某一种编辑模式实际上也是一种函数。这些编辑模式用于编辑某种类型或者类别的数据，这些编辑模式被分为主要模式和次要模式，主要模式规定了主要的编辑行为（编辑普通文本时使用的就是普通文本的编辑模式，编辑c语言源代码有c语言模式），次要模式相当于增加了一些额外的功能能，每个缓冲区有且仅有一个主要模式。
* 默认缓冲区的主要模式尾Lisp Interaction是一个用于计算Emacs Lisp[^1]
* <u>**在不同主要模式中键绑定可能不同**</u>

编写Emacs的编程语言，也可以自己用来编写Emacs的函数

***

编辑模式：

| 快捷键 | 函数                  | 模式                       | 注释                                                         |
| ------ | --------------------- | -------------------------- | ------------------------------------------------------------ |
| Ins    | overwrite-mode        | Overwrite                  | 次要模式，改写模式                                           |
| C-h m  | describe-mode         |                            | 打开一个新的缓冲区获得当前模式的描述，包括但不限于当前主要模式特有的键绑定、应用于任何打开的次要模式的键绑定 |
|        | fundamental-mode      | Fundamental                | 主要模式，Emacs缓冲区的缺省（默认）模式，拥有最少的特殊键绑定 |
|        | text-mode             | Text                       | 主要模式，编辑文本的基本模式                                 |
|        | Abbrev                | abbrev-mode                | 次要模式，用于生成或使用缩写                                 |
|        | Auto Fill             | auto-fill-mode             | 次要模式，式用于自动文字回绕、填充较长的行和段落。           |
|        | C                     | c-mode                     | 主要模式，用于编辑C程序代码                                  |
|        | Line Number           | line-number-mode           | 次要模式，用于显示当前行号                                   |
|        | Lisp Interaction      | lisp-interaction           | 主要模式，编辑和编译Lisp代码                                 |
|        | Paragraph-Indent Text | paragraph-indent-text-mode | 主要模式，是Text模式的一种特殊变体，其中的段落移动<br/>命令可用于首行缩进的段落，而不仅仅是由空行隔开的段<br/>落。 |
|        | TeX                   | tex-mode                   | 主要模式，这一模式用于编辑TeX文档                            |
|        | WordStar              | wordstar-mode              | 主要模式，提供了WordStar编辑器的键绑定                       |

* Text模式的键绑定（我的ispell暂时无法使用）：

| 快捷键        | 函数                 | 功能                      | 注释               |
| ------------- | -------------------- | ------------------------- | ------------------ |
| Esc           |                      | 作为mode-specific命令前缀 |                    |
| Esc Tab/M-Tab | ispell-complete-word |                           |                    |
| Esc S/M-S     | center-paragraph     | 将所有文本居中放置        | 我的快捷键无法使用 |
| Esc s/M-s     | center-line          | 将光标所在行居中放置      | 同上               |



## 3.文本编辑命令（适用于大多数主要模式的命令）

| 快捷键          | 函数                             | 功能                                                         | 特殊                                                         |
| --------------- | -------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| Ins             |                                  | 切换到改写模式，输入的内容将替换光标后的内容                 | 再次按下快捷键关闭                                           |
| Backspace       |                                  | 删除光标左边的一个字符                                       | 与任何文本编辑器中的操作都相同，光标会随之移动               |
| C-d/Del         |                                  | 删除光标右边的一个字符                                       | 光标不会移动                                                 |
| M-d             |                                  | 从光标处开始，删除右边内容直到一个单词结束                   | 光标不动                                                     |
| M-Del           |                                  | 与上面相似，只不过方向向左                                   | 同上                                                         |
| C-x C-i/C-x Tab |                                  | 对选中的标记区域进行向左或者向右的移动                       | 使用左右方向键或者shift+左右方向键                           |
|                 | fill-region                      | 使选中区域内的文本有相同的缩进                               |                                                              |
| M-q             | fill-paragraph                   | 作用与上个函数相同，只不过目标为光标所在的段落               |                                                              |
| M-\             | delete-horizontal-space          | 它将删除位于光标左边的第一个非空格字符和光标右边的第一个非空格字符之间所有的前导空格，而无论光标是否恰好位于空格处。 |                                                              |
| C-o             |                                  | 增加一行空而不移动光标                                       |                                                              |
| C-t             | transpose-chars                  | 调换光标前的单个字符和光标后的单个字符                       |                                                              |
| M-t             | transpose-words                  | 调换光标前后两个单词                                         |                                                              |
| C-x C-t         | transpose-lines                  | 跳换光标所在行和前面一行                                     |                                                              |
| M-^             | delete-indentation               | 将光标所在行与前面第一个非空行连成一行，且用空格分开         | C-1 M-^与后面的行连成一行                                    |
| M-u             | uppercase-word                   | 将光标处到词尾之间的文本都转换为大写                         |                                                              |
| M-l             | downcase-word                    | 与上面相反                                                   |                                                              |
| M-c             |                                  | 单词首字母大写                                               |                                                              |
| C-x C-l         | downcase-region                  | 将区域内的文本变为小写                                       |                                                              |
| C-x C-u         | upcase-region                    | 将区域内的文本变为大写                                       |                                                              |
| C-s/C-r         | isearch-forward/isearch-backward | 增量搜索                                                     | 不区分大小写，在词按下C-s/C-r切换选中目标（C-r是从光标处逆向切换，C-s和C-r都可以搜索到整个缓冲区） |
| C-s C-w         |                                  | 选中光标到词尾处的单词尾搜索内容                             | 均可用C-r替换C-s                                             |
| C-s C-y         |                                  | 选中光标到行尾处尾搜索内容                                   | 同上                                                         |
| C-s/r Enter     |                                  | 一次搜索完整字符串                                           | 从光标处开始搜索                                             |
| C-M-r/s         |                                  | 正则表达式搜索，输入正则表达式，搜索与之匹配的内容           | 同上                                                         |
|                 | replace-string                   | replace-string 函数将提示您输入进行匹配和进行替换的字符串，它将替换从光标处到 缓冲区末尾的所有实例 | 搜索范围同上                                                 |
|                 | replace-regexp                   | 与上面类似，但是是将正则表达式作为要搜索的文本               | 搜索范围同上                                                 |
| M-%             | query-replace                    | 它会对每个需要替换的实例提出询问                             | 搜索范围同上。选择[^2]                                       |
| C-M-%           |                                  | 同上，搜索内容为正则表达式                                   |                                                              |
| C-k             |                                  | 剪切整行                                                     |                                                              |

[^2]:<img  src='/home/lda/文档/note by typora/Emacs/image/深度截图_选择区域_20210109130535.png '>



